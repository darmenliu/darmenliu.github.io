---
layout: post
title: "NFV之旅（NFV到底是什么？）"
author: "Yongqiang Liu"
---

# NFV之旅（NFV到底是什么？）

译者序：很早之前就想写写介绍NFV概念的文章，解答NFV到底是什么的问题，很多时候有人问我现在的工作领域，当我回答是NFV相关的领域时，我可以看出来对方已经一脸疑惑，我只能换个说法，电信管理相关的领域。可是这个回答非常含糊，也很不准确，但是我也不能说我是在从事云计算相关的事。有一次碰巧看到这篇文章，写的非常全面，这也正是我想总结的（我可能不会总结的如此全面），因此我决定将其翻译成中文，希望对看到的人有所帮助。

## NFV架构框架

传统网络设备架构是非常基础的，因为软件和硬件是紧密集成并且特殊定制的。相比之下，NFV允许开发商的软件运行在通用硬件之上（比如intel 的x86 服务器），为管理创建多个接入点。
开发NFV架构框架是为了确保这些接入点能够在不同供应商的实现之间保持标准化和兼容。本节对框架及其框架背后的基本原理进行了全面讨论。使读者能够了解该框架的灵活性。

## 需要标准框架

在NFV术语中，网络功能的虚拟实现称为虚拟化网络功能（VNF）。VNF旨在通过软件执行某种网络功能，例如路由器，交换机，防火墙，负载平衡等，并且可能通过这些VNF的组合来实现正在虚拟化的完整网络段。

- VNF （虚拟化网络功能）用执行相同功能但在通用硬件上运行的系统替换供应商的专用硬件。

这些VNF可能来自不同的供应商，服务提供商可以根据其需求对供应商的VNF进行组合。这种选择自由使得对VNF之间通信方式和虚拟环境中管理它们的方法进行标准化是有必要的。对于NFV的管理需要考虑以下因素：

- 多厂商的VNF部署
- 管理生命周期和这些功能的相互作用
- 管理硬件资源分配
- 监控利用率
- VNF的配置
- 互连虚拟化功能以实现服务
- 与计费和运营系统的互动

要实现这些管理角色并保持系统开放而非专有，必须对该框架进行标准化。此标准框架应确保部署的VNF不依赖于特定硬件，并且不需要针对任何环境进行特殊的定制。它应该为供应商提供一种参考，他们可以遵循该标准架构，以保证其各个厂商的VNF部署的一致性和统一性。同时，标准需要确保这些VNF的管理平台及其运行的硬件不依赖于任何供应商。在这个异构生态系统中部署网络功能时应该没有进行过特殊的调整。本质上，通过良好的边界定义，这个框架必须提供允许不同厂商的VNF，硬件，及管理系统能够无缝接入。

## NFV ETSI 标准

NFV概念在2012年由供应商联盟在SDN OpenFlow世界大会上首次提出。他们提到了网络运营商所面临的主要挑战，特别是他们需要依赖于新硬件来为客户提供创新服务。该小组强调了与以下概念相关的挑战：

- 设计围绕新设备的改变
- 部署成本和物理限制
- 需要专业知识来管理和运营新的专有硬件和软件
- 处理新专有设备的硬件复杂性
- 短暂的生命周期使这种设备迅速过时
- 在资本支出和投资的回报完成之前重新启动运营周期

该小组提出基于NFV来解决以上挑战和提升效率的方法，该方法就是利用标准IT虚拟化技术将不同的网络设备功能整合到标准大容量服务器，交换机和存储器中，这些服务器可以放置在数据中心，网络节点或者最终用户规定的场所。

为了实现这一目标并定义一套规范，该规范推动从传统的供应商网络转变为基于NFV的网络，其中领先的电信运营商中的七家组成了互联网规范组（ISG） - 独立标准化组织称为欧洲电信标准协会（ETSI）。

该小组于2013年初正式启动，致力于定义需求和架构框架，该架构可支持供应商提供的自定义硬件设备向基于虚拟化网络功能的转换。

该小组使用三个关键标准来提出建议：

- **解耦：**完全分离硬件和软件
- **灵活性：**网络功能的自动化和可扩展部署
- **动态操作：**通过粒度控制和网络状态监控来控制网络功能的操作参数

基于这些标准，建立了一个高级架构框架，定义了不同的焦点区域，[如图1-3]()所示。

![01fig03_alt](https://ithorseman.files.wordpress.com/2018/09/01fig03_alt.jpg)

图1-3 NFV 标准框架视图

该体系结构框架构成了标准化和开发工作的基础，通常称为ETSI NFV框架。从较高层面来说，该框架包括对VNF的管理，关系和相互依赖关系，VNF之间的数据流以及资源分配。ETSI ISG将这些角色分为三个高级模块，即基础架构模块，虚拟化功能块和管理模块。在ETSI的定义中，这些模块的正式名称定义为：

- **网络功能虚拟化基础架构（NFVI）模块：**此模块构成整体架构的基础。托管虚拟机的硬件，使虚拟化成为可能的软件以及虚拟化资源。
- **虚拟化网络功能（VNF）模块：** VNF模块使用NFVI提供的虚拟机组成，这些虚拟机中运行了网络虚拟化功能的软件。
- **管理和编排（MANO）模块：** MANO被定义为体系结构中的单独模块，它与NFVI和VNF模块交互。MANO管理基础设施层中的所有资源; 此外，创建和删除资源并管理VNF的整个生命周期。

## 如何理解 NFV ETSI 框架

如果你仔细思考NFV架构的构建过程，则可以更好地理解ETSI标准框架及各个模块背后的思路。首先从NFV的基本概念开始，比如虚拟化的网络设备。这些是通过VNF实现的。

为了实现某种网络服务，VNF会部署为独立的实体或者多个VNF的组合。在VNF中，与虚拟化网络功能相关联的协议不需要感知底层虚拟化的实现。[如图1-4]()所示，实现防火墙服务（FW），NAT设备（NAT）和路由（RTR）之间的相互通信，并不知道它们有没有物理连接或者运行在专用物理设备上。

![01fig04_alt](https://ithorseman.files.wordpress.com/2018/09/01fig04_alt.jpg)

**[图1-4]()** *作为VNF协同工作的网络功能*

在设计上没有定义使用专用或自定义硬件来运行VNF，而是使用具有通用硬件资源（如处理器（CPU），存储，内存和网络接口）的通用硬件设备来运行。这可以通过使用COTS硬件来实现。它不需要是单个COTS设备; 它可以是一个集成的硬件解决方案，提供运行VNF所需的硬件资源的任意组合。虚拟化技术可用于在多个VNF之间共享硬件。基于管理程序的虚拟化或基于容器的虚拟化已经在数据中心中使用了一段时间，并且已经相当成熟。第2章“虚拟化概念”中介绍了这些细节。

硬件虚拟化技术为VNF提供了运行的基础架构。此基础架构（NFVI）可以将COTS硬件用作公共资源池，创建并管理可按VNF要求分配的“虚拟化”计算，存储和网络资源池子集，[如图1-5]()所示。

![01fig05_alt](https://ithorseman.files.wordpress.com/2018/09/01fig05_alt.jpg)

**[图1-5]()** *VNF提供的虚拟计算，存储和网络资源*

VNF的供应商可以建议其资源的最低配置要求，但无法控制或优化底层硬件参数。例如，供应商可以对执行代码所需的CPU内核或VNF需要的存储空间和内存提出建议 - 但供应商不能够自由地根据其特定要求设计硬件。物理硬件的虚拟化层可以保证VNF的资源请求。VNF对此过程没有任何可见性，VNF也不知道运行在共享资源池上的其他VNF的存在。

在此虚拟化网络的架构中，不同的资源可以在不同级别进行灵活的管理和配置。相比之下，今天的网络架构管理是供应商定制的，并且供应商只提供有限的可扩展性。只有供应商支持才能够实现管理功能的某种新需求或功能增强。通过使用NFV，可以更小粒度和更个性化地管理网络实体。因此，NFV架构需要定义自动化、配合、互连和各个功能块的指导原则，以便可以以灵活，可扩展和自动化的方式管理，否则该架构将是不完整的。

此要求促使我们向框架添加另一个功能块，该框架与VNF和NFVI块通信并进行管理，[如图1-6]()所示。此块管理COTS硬件上VNF的部署和互连，并为这些VNF分配硬件资源。

![01fig06_alt](https://ithorseman.files.wordpress.com/2018/09/01fig06_alt.jpg)

**[图1-6]()** *NFV的管理和编排块*

由于MANO块旨在实现对实体的完全可控性，因此它完全掌握它们的利用率，运行状态和使用情况的统计信息。这使得MANO成为运营和计费系统收集利用率数据的最合适的接口。

这样就完成了对三个高级块-NFVI，VNF和MANO的逐步理解，并了解了在ETSI框架中定义和定位这些模块的原因。

## 仔细研究NFV ETSI 框架

上一节讲述了ETSI NFV架构框架及其基本组件的高级视图。ETSI 标准对高级视图中每个组件都有更加深入的定义，包括对每个模块不同的作用和责任。因此，每一种高级视图的组件都包括多个功能模块。例如，管理组件（MANO）被定义为三个功能模块的组合：虚拟化基础架构管理器（VIM），虚拟化网络功能管理器（VNFM）和NFV Orchestrator（NFVO）NFV 编排器。

该体系结构还定义了各个功能块之间的接入点，以便彼此交互，通信和协作。[图1-7]()显示了ETSI标准框架的详细视图

![01fig07_alt](https://ithorseman.files.wordpress.com/2018/09/01fig07_alt.jpg)

**[图1-7]()** *ETSI NFV框架的低级视图*

本节将进行深入的讨论，并回顾上文阐述的功能，各个模块之间的配合以及它们之间通过接入点的相互通信。

为了方便理解，可以将这些功能模块按照功能进行分层。

#### 基础设施层（NFVI）

VNF依赖于虚拟硬件的可用性，是运行在物理硬件上的软件资源模拟。在ETSI NFV框架中，可以通过基础设施块（NFVI）实现。该基础架构块包括物理硬件资源，虚拟化层和虚拟资源，[如图1-8]()所示。

![01fig08_alt](https://ithorseman.files.wordpress.com/2018/09/01fig08_alt.jpg)

**[图1-8]()** *ETSI NFV框架的基础设施层*

ETSI框架将硬件资源分为三大类 - 计算，存储和网络。计算相关的硬件资源包括CPU和内存，它们可以通过集群计算技术作为资源池在主机之间共享。存储可以使用网络存储（NAS）或使用SAN技术连接的存储设备。网络硬件包括可由VNF使用的网络接口卡和端口池。这些硬件都不是专门为任何特定的网络功能而构建的，但所有项目都是现成的硬件设备（COTS）。基础设施层可以不限于单个物理主机，具体物理位置或某个接入点，它可以跨越多个设备和不同物理位置进行伸缩和扩展。

必须提到的是，互连存储和计算设备或互连多个位置（例如交换机，路由器，光转发器，无线通信设备等）的物理位置内的网络硬件也被认为是NFVI的一部分。但是，这些网络设备不是作为VNF的虚拟资源分配的池的一部分。

虚拟化层是另一个功能块，是NFVI的一部分。它直接与硬件设备池交互，使其可作为虚拟机用于VNF。虚拟机为其托管的任何软件（在本例中为VNF）提供虚拟化计算，存储和网络资源，并将这些资源呈现给VNF，就像它们是专用物理硬件设备一样。

- **VM** 虚拟机或VM是虚拟化资源池的常用术语，其可以是独立工作且彼此隔离的共享硬件资源。

总之，虚拟化层将网络功能软件（即VNF）与硬件分离，同时使它们与其他VNF隔离，并充当物理硬件的接口。

- **抽象化** 通过为软件提供用于访问硬件资源的公共独立接口来解耦硬件和软件层的技术被称为“硬件抽象”，或更简单地称为“抽象”。

为了管理NFVI，ETSI定义了一个称为虚拟化基础架构管理器（VIM）的管理功能块。VIM是MANO（管理和编排块）的一部分，框架委托其负责管理计算，存储和网络硬件，实现虚拟化层的软件以及虚拟化硬件。由于VIM直接管理硬件资源，因此它具有这些资源的完整清单以及对其操作属性（例如电源管理，运行状况和可用性）的可见性，以及监视其性能属性的能力（例如利用率统计信息） ）。

VIM还管理虚拟化层并控制和影响虚拟化层如何使用硬件。因此，VIM负责控制NFVI资源，并与其他管理功能块协同工作以确定需求，然后管理基础架构资源以实现它们。VIM的管理范围可以使用相同的NFVI-POP，也可以分布在基础架构跨越的整个域中。

VIM的实例可以不限于单个NFVI层。单个VIM实现可能控制多个NFVI块。相反，该框架还允许多个VIM可以并行运行并控制若干单独的硬件设备。这些VIM可以位于单个位置或不同的物理位置。

#### 虚拟网络功能（VNF）层

VNF层是实现网络功能虚拟化的地方。它包括VNF块和管理它的功能块，称为VNF-Manager（VNFM）。VNF块定义为VNF和元素管理（EM）块的组合，[如图1-9](popUp('/content/images/chap1_9780134463056/elementLinks/01fig09_alt.jpg'))所示。

![img](https://ithorseman.files.wordpress.com/2019/03/01fig09_alt-2.jpg)

**[图1-9](popUp('/content/images/chap1_9780134463056/elementLinks/01fig09_alt.jpg'))** *ETSI NFV框架中的虚拟化网络功能层*

需要开发网络功能的虚拟化实现，以便它可以在具有足够计算，存储和网络接口的任何硬件上运行。但是，虚拟化环境的细节对VNF是透明的，并且VNF不会意识到它运行的通用硬件实际上是虚拟机。VNF的行为和外部接口应该与它正在虚拟化的网络功能和设备的物理实现相同。

虚拟化的网络服务可以通过单个VNF实现，或者可能需要多个VNF。当一组VNF共同实现网络服务时，某些功能可能依赖于其他功能，在这种情况下，VNF需要以特定顺序处理数据。当一组VNF没有任何相互依赖关系时，该组被称为VNF集。其示例vEPC中，其中移动管理实体（MME）负责用户的认证并选择服务网关（SGW）。SGW独立于MME的功能运行并转发用户数据包。这些VNF共同工作以提供vEPC的部分功能，但是它们独立地实现其功能。

但是，如果网络服务要求VNF按特定顺序处理数据，则需要定义和部署VNF之间的连接, 并确保处理数据的顺序。这称为VNF转发图（VNF-FG）或服务链。在前面的vEPC示例中，如果添加了另一个提供分组数据网络网关（PGW）功能的VNF，则PGW VNF应仅在SGW之后处理数据。[如图1-10](popUp('/content/images/chap1_9780134463056/elementLinks/01fig10_alt.jpg'))所示，SGW，MME和PGW之间的这种特定顺序的数据包流互连使VNF-FG成为可能。这种服务链的概念在NFV世界中很重要，需要更详细的讨论。第6章“拼接所有内容”将深入讨论该主题。

![img](https://ithorseman.files.wordpress.com/2019/03/01fig10_alt-1.jpg)

**[图1-10](popUp('/content/images/chap1_9780134463056/elementLinks/01fig10_alt.jpg'))** *使用VNF-FG的虚拟演进分组核心（vEPC）*

在ETSI框架中，VNFM负责管理VNF的生命周期，并实现其资源的扩展。当VNFM必须实例化新的VNF或添加或修改VNF可用的资源（例如，更多的CPU或内存）时，它会将该要求传达给VIM。反过来，它要求虚拟化层修改分配给托管VNF的VM的资源。由于VIM可以查看资源剩余额度，因此它还可以确定当前硬件是否可以满足这些额外需求。[图1-11](popUp('/content/images/chap1_9780134463056/elementLinks/01fig11_alt.jpg'))显示了这种事件流。

![img](https://ithorseman.files.wordpress.com/2019/03/01fig11_alt-1.jpg)

**[图1-11](popUp('/content/images/chap1_9780134463056/elementLinks/01fig11_alt.jpg'))** *VNFM扩展VNF资源*

VNFM还负责VNF的FCAPS。它通过与VNF通信或使用元素管理（EM）功能块直接管理它。

> **FCAPS**
>
>  FCAPS是ISO电信管理网络模式，是五个主要管理参数的缩写：故障，配置，性能，计费和安全性。 

元素管理(EM)是ETSI框架中定义的另一个功能块，旨在帮助实现一个或多个VNF的管理功能。EM的管理范围类似于传统的元件管理系统（EMS），其用作网络管理系统和执行网络功能的设备之间的交互层。EM使用专有方法与VNF交互，同时采用开放标准与VNFM进行通信。这为VNFM提供了代理，用于VNF的操作和管理，[如图1-12](popUp('/content/images/chap1_9780134463056/elementLinks/01fig12_alt.jpg'))所示。FCAPS仍由VNFM管理，但它可以获得EM的支持，以便在管理这一方面与VNF进行交互。

![img](https://ithorseman.files.wordpress.com/2019/03/01fig12_alt.jpg)

**[图1-12](popUp('/content/images/chap1_9780134463056/elementLinks/01fig12_alt.jpg'))** *VNFM直接或通过EM管理VNF*

该框架不会将实现限制为单个VNFM来管理所有VNF。拥有VNF的供应商可能需要自己的VNFM来管理该VNF。因此，可以存在NFV部署，其中多个VNFM正在管理多个VNF，或者单个VNFM管理单个VNF，[如图1-13](popUp('/content/images/chap1_9780134463056/elementLinks/01fig13_alt.jpg'))和[1-14所示](popUp('/content/images/chap1_9780134463056/elementLinks/01fig14_alt.jpg'))。

![img](https://ithorseman.files.wordpress.com/2019/03/01fig13_alt.jpg)

**[图1-13](popUp('/content/images/chap1_9780134463056/elementLinks/01fig13_alt.jpg'))** *单个VNFM管理多个VNF*

![img](https://ithorseman.files.wordpress.com/2019/03/01fig14_alt.jpg)

**[图1-14](popUp('/content/images/chap1_9780134463056/elementLinks/01fig14_alt.jpg'))** *多个VNFM管理单独的VNF*

#### 操作和编排层

从物理设备迁移到虚拟设备时，网络运营商不希望改进可能部署用于运营和业务支持系统（OSS / BSS）的管理工具和应用程序。作为向NFV转变的一部分，该框架不需要对这些工具进行更改。它允许他们继续管理网络的运营和业务方面，并使用设备，即使设备被VNF取代。虽然这符合预期，但使用现有系统有其缺点，因为它没有完全获得NFV的好处，并且不能与NFV的管理功能块-VNFM和VIM通信。提供商可以采取的一条途径是增强和发展现有的工具和系统，以使用NFV管理功能块并利用NFV的好处（如弹性，敏捷性，等等。）。这对某些人来说是可行的方法，但对于其他人来说这不是一个可行的选择，因为这些系统传统上是内部构建的，或者是不允许管理像NFV这样的开放平台的专有实现。

ETSI框架提供的解决方案是使用另一个功能块NFV Orchestrator（NFVO）。它扩展了当前的OSS / BSS并管理NFVI和VNF的操作方面和部署。[图1-15](popUp('/content/images/chap1_9780134463056/elementLinks/01fig15_alt.jpg'))显示了框架中业务流程层的两个组件。

![img](https://ithorseman.files.wordpress.com/2019/03/01fig15_alt.jpg)

**[图1-15](popUp('/content/images/chap1_9780134463056/elementLinks/01fig15_alt.jpg'))** *ETSI NFV框架的操作和编排层*

NFVO的作用在前面并不明显，似乎是当前操作工具与VIM和VFNM之间的额外块缓冲。然而，NFVO通过忽略端到端服务部署，解析服务虚拟化的大局并将所需信息传递给VIM和VNFM以实现该服务，在框架中发挥着关键且重要的作用。

NFVO还可以与VIM一起使用，并且可以全面了解他们正在管理的资源。如前所述，可以有多个VIM，每个VIM只能看到它正在管理的NFVI资源。由于NFVO具有来自这些VIM的集体信息，因此它可以通过VIM协调资源分配。

**资源编排**

将NFVI资源分配，解除分配和管理到VM的过程称为资源编排。

类似地，VNFM独立地管理VNF，并且看不到VNF之间的任何服务连接，以及VNF如何组合以形成服务链。这些信息都存在于NFVO中，NFVO的作用是通过VNFM在VNF之间创建端到端服务。因此，NFVO可以看到VNF为服务实例形成的网络拓扑。

**服务编排**

术语Service Orchestration指的是使用VNF定义服务以及这些VNF如何作为拓扑互连以实现它。

尽管不是NFV转型的一部分，但现有的OSS / BSS确实为管理带来了价值，因此在框架中占有一席之地。该框架定义了现有OSS / BSS和NFVO之间的参考点，并将NFVO定义为OSS / BSS的扩展，以管理NFV部署，而不试图替换当今网络中OSS / BSS的任何角色。

#### NFV参考点

ETSI框架定义了参考点，以识别功能块之间必须发生的通信。识别和定义这些对于确保信息流在不同供应商的功能模块中是一致的非常重要。它还有助于建立一种在功能块之间交换信息的开放和通用方式。[图1-16](popUp('/content/images/chap1_9780134463056/elementLinks/01fig16_alt.jpg'))显示了ETSI NFV框架定义的参考点。

![img](https://ithorseman.files.wordpress.com/2019/03/01fig16_alt.jpg)

**[图1-16](popUp('/content/images/chap1_9780134463056/elementLinks/01fig16_alt.jpg'))** *ETSI NFV框架参考点*

下面的列表更详细地描述了这些参考点。

- **Os-Ma-nfvo：**最初标记为Os-Ma，用于定义OSS / BSS和NFVO之间的通信。这是OSS / BSS与NFV（MANO）管理块之间的唯一参考点。
- **Ve-Vnfm-vnf：**该参考点定义了VNFM和VNF之间的通信。它由VNFM用于VNF生命周期管理，并与VNF交换配置和状态信息。
- **Ve-Vnfm-em：**这最初与Vn-Vnfm-vnf（联合标记为Ve-Vnfm）一起定义，但现在分别为VNFM和EM功能块之间的通信定义。它支持VNF生命周期管理，故障和配置管理以及其他功能，仅在EM了解虚拟化时使用。
- **Nf-Vi：**该参考点定义了VIM与NFVI中功能块之间的信息交换。VIM使用它来分配，管理和控制NFVI资源。
- **Or-Vnfm：** NFVO和VNFM之间的通信通过此参考点进行，例如VNF实例化和其他与VNF生命周期相关的信息流。
- **Or-Vi：** NFV协调器（NFVO）被定义为具有与VIM通信的直接方式，以影响基础架构资源的管理，例如VM的资源预留或VNF软件添加。
- **Vi-Vnfm：**此参考点用于定义VIM和VNFM之间的信息交换标准，例如运行VNF的VM的资源更新请求。
- **Vn-Nf：**这是唯一没有管理功能块作为其边界之一的参考点。此参考点旨在将VNF的性能和可移植性需求传达给基础架构块。

#### 表1-1 ETSI NFV框架参考点

| **参照点**  | **边界**        | **在框架中使用定义**                                         |
| ----------- | --------------- | ------------------------------------------------------------ |
| Os-Ma-nfvo  | OSS / BSS  NFVO | 服务描述和VNF包管理。网络服务生命周期管理（实例化，查询，更新，扩展  和终止）。VNF生命周期管理。网络服务实例的策略管理（访问，授权等）。从OSS / BSS查询网络服务和VNF实例。  向OSS / BSS 转发网络服务实例的事件，使用和性能。 |
| Ve-Vnfm-vnf | VNFM  VNF       | 实例化，实例查询，更新，向上或向下扩展以及终止VM。有关VNF的配置和事件，从VNFM到VNF。从VNF到VNFM的配置和事件。 |
| Ve-Vnmf-em  | VNFM  EM        | 实例化，实例查询，更新，向上或向下扩展以及终止VM。有关VNF从VNFM到EM的配置和事件。从EM到VNFM的配置和事件。 |
| Nf-Vi       | NFVI  VIM       | 分配，更新。迁移，终止VM。创建，配置，删除VM间连接。故障事件，使用记录，VIM for NFVI   资源（物理，软件，虚拟）的配置信息。 |
| Or-Vnfm     | NFVO  VNFM      | VNF的实例化，状态查询，更新，扩展，终止和包查询。转发VNF事件和状态信息。 |
| Or-Vi       | NFVO  VIM       | NFVI资源预留，发布和更新。VNF软件映像分配，解除分配和更新。NFVI到NFVO的配置，使用，事件和结果。 |
| Vi-Vnfm     | VIM  VNFM       | NFVI资源预留，分配和发布信息。VNF使用的NFVI资源的事件，用法，测量结果等。 |
| Vn-Nf       | NFVI  VNF       | VNF的生命周期，性能和可移植性要求。                          |

#### 把它们放在一起

让我们看看这个模型如何端到端地工作，以一个简单的网络服务为例，并检查ETSI框架中定义的功能块如何共同交互以实现服务。[图1-17](popUp('/content/images/chap1_9780134463056/elementLinks/01fig17_alt.jpg'))显示了所涉及步骤的简化版本。

![img](https://ithorseman.files.wordpress.com/2019/03/01fig17_alt.jpg)

**[图1-17](popUp('/content/images/chap1_9780134463056/elementLinks/01fig17_alt.jpg'))** *ETSI NFV框架中的端到端流程*

以下步骤描述了此过程：

- **步骤1.** NFVO可以看到端到端拓扑的完整视图。
- **步骤2.** NFVO实例化所需的VNF并将其传达给VNFM。
- **步骤3.** VNFM确定所需的VM数量以及每个VM所需的资源，并恢复到NFVO，以满足此要求，以便能够完成VNF的创建。
- **步骤4.**由于NFVO具有有关硬件资源的信息，因此它验证是否有足够的资源可用于创建VM。NFVO现在需要发起创建这些VM的请求。
- **步骤5.** NFVO向VIM发送请求以创建VM并将必要的资源分配给这些VM。
- **步骤6.** VIM要求虚拟化层创建这些VM。
- **步骤7.**成功创建VM后，VIM会将此回复给NFVO。
- **步骤8.** NFVO通知VNFM它需要的VM可用于启动VNF。
- **步骤9.** VNF现在使用任何特定参数配置VNF。
- **步骤10.**成功配置VNF后，VNFM与NFVO通信VNF已准备好，已配置并可供使用。

[图1-17](popUp('/content/images/chap1_9780134463056/elementLinks/01fig17_alt.jpg'))和附带的列表将简化流程描述为帮助理解框架的示例。它故意不涉及与此过程相关的更多细节以及可能的变化。虽然本书未涉及这些内容，但读者可以参考ETSI文档（第5节，[2]中）了解更多详细信息和方案。

### NFV框架摘要

定义框架，更具体地说是单个功能块和参考点的目标是消除（或更现实地，最小化）互操作性挑战并使实现标准化。这些块的目的和范围在框架中得到了很好的定义。类似地，相互依赖性和通信路径是通过参考点定义的，并且是开放的和标准的方法。

供应商可以独立开发这些功能并将其部署，以便与其他供应商开发的其他功能块一起顺利运行。只要这些实现遵循框架定义的范围和角色，在参考点使用开放方法与其他块通信，网络就可以进行NFV的异构部署。这意味着服务提供商可以完全灵活地在不同功能块的供应商之间进行选择。这与传统上部署网络的方式形成对比，其中服务提供商与供应商的硬件（及其局限性）和软件（以及适应所有运营需求的挑战）相关联，并且他们必须处理混合供应商网络的互操作性问题。

这并不能神奇地消除不同供应商实施的VNF之间可能出现的更高级别的协议互操作性问题。例如，一个VNF的供应商的BGP实现在与另一个供应商开发的另一个VNF对等时可能会有一些问题。对于这些类型的互操作性问题，标准化过程已经存在并将继续发挥作用。此外，NFV并未要求供应商提供开放且标准的方式来管理VNF的配置和监控。NFV框架中的EM补偿了这一点。但是在接近理想的实现中，操作支持系统应该能够使用标准方法与VNF一起工作。这是通过并行技术向软件定义网络（SDN）转变而发生的。虽然NFV和SDN不是相互依赖的，它们共同补充了彼此的利益和优势。在本书中，重点是NFV，但如果没有SDN的讨论以及这两者如何相互补充，那么图片就不完整。

虽然NFV框架已经建立，但NFV构建模块的标准化仍在不断努力。

原文链接：http://www.informit.com/articles/article.aspx?p=2755705&seqNum=2